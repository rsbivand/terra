<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Compute zonal statistics, that is summarize values of a SpatRaster for each "zone" defined by another SpatRaster, or by a SpatVector with polygon geometry.
If fun is a true R function, the &amp;lt;SpatRaster,SpatRaster&amp;gt; method may fail when using very large SpatRasters, except for the functions ("mean", "min", "max", "sum", "isNA", and "notNA").
You can also summarize values of a SpatVector for each polygon (zone) defined by another SpatVector.'><title>Zonal statistics — zonal • terra</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Zonal statistics — zonal"><meta property="og:description" content='Compute zonal statistics, that is summarize values of a SpatRaster for each "zone" defined by another SpatRaster, or by a SpatVector with polygon geometry.
If fun is a true R function, the &amp;lt;SpatRaster,SpatRaster&amp;gt; method may fail when using very large SpatRasters, except for the functions ("mean", "min", "max", "sum", "isNA", and "notNA").
You can also summarize values of a SpatVector for each polygon (zone) defined by another SpatVector.'><meta property="og:image" content="https://rspatial.github.io/terra/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">terra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7-58</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/terra-package.html">Description</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://rspatial.org">Tutorials</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rspatial/terra/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Zonal statistics</h1>
      
      <div class="d-none name"><code>zonal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute zonal statistics, that is summarize values of a SpatRaster for each "zone" defined by another SpatRaster, or by a SpatVector with polygon geometry.</p>
<p>If <code>fun</code> is a true R <code>function</code>, the &lt;SpatRaster,SpatRaster&gt; method may fail when using very large SpatRasters, except for the functions ("mean", "min", "max", "sum", "isNA", and "notNA").</p>
<p>You can also summarize values of a SpatVector for each polygon (zone) defined by another SpatVector.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for SpatRaster,SpatRaster</span></span>
<span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, fun<span class="op">=</span><span class="st">"mean"</span>, <span class="va">...</span>, w<span class="op">=</span><span class="cn">NULL</span>, wide<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>    as.raster<span class="op">=</span><span class="cn">FALSE</span>, filename<span class="op">=</span><span class="st">""</span>, overwrite<span class="op">=</span><span class="cn">FALSE</span>, wopt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for SpatRaster,SpatVector</span></span>
<span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, fun<span class="op">=</span><span class="st">"mean"</span>, na.rm<span class="op">=</span><span class="cn">FALSE</span>, w<span class="op">=</span><span class="cn">NULL</span>, weights<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>    exact<span class="op">=</span><span class="cn">FALSE</span>, touches<span class="op">=</span><span class="cn">FALSE</span>, as.raster<span class="op">=</span><span class="cn">FALSE</span>, as.vector<span class="op">=</span><span class="cn">FALSE</span>, filename<span class="op">=</span><span class="st">""</span>, wopt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for SpatVector,SpatVector</span></span>
<span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">z</span>, fun<span class="op">=</span><span class="va">mean</span>, <span class="va">...</span>, weighted<span class="op">=</span><span class="cn">FALSE</span>, as.polygons<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>SpatRaster or SpatVector</p></dd>

  <dt>z</dt>
<dd><p>SpatRaster with cell-values representing zones or a SpatVector with each polygon geometry representing a zone. <code>z</code> can have multiple layers to define intersecting zones</p></dd>

  <dt>fun</dt>
<dd><p>function to be applied to summarize the values by zone. Either as character: "mean", "min", "max", "sum", "isNA", and "notNA" and, for relatively small SpatRasters, a proper function</p></dd>

  <dt>...</dt>
<dd><p>additional arguments passed to fun, such as <code>na.rm=TRUE</code></p></dd>
  
  <dt>w</dt>
<dd><p>SpatRaster with weights. Should have a single-layer with non-negative values</p></dd>

  <dt>wide</dt>
<dd><p>logical. Should the values returned in a wide format? This only affects the results when <code>nlyr(z) == 2</code></p></dd>

  <dt>as.raster</dt>
<dd><p>logical. If <code>TRUE</code>, a SpatRaster is returned with the zonal statistic for each zone</p></dd>
  
  <dt>filename</dt>
<dd><p>character. Output filename (ignored if <code>as.raster=FALSE</code></p></dd>

  <dt>overwrite</dt>
<dd><p>logical. If <code>TRUE</code>, <code>filename</code> is overwritten</p></dd>

  <dt>wopt</dt>
<dd><p>list with additional arguments for writing files as in <code><a href="writeRaster.html">writeRaster</a></code></p></dd>


  <dt>weights</dt>
<dd><p>logical. If <code>TRUE</code> and <code>y</code> has polygons, the approximate fraction of each cell that is covered is returned as well, for example to compute a weighted mean</p></dd>

  <dt>exact</dt>
<dd><p>logical. If <code>TRUE</code> and <code>y</code> has polygons, the exact fraction of each cell that is covered is returned as well, for example to compute a weighted mean</p></dd>

  <dt>touches</dt>
<dd><p>logical. If <code>TRUE</code>, values for all cells touched by lines or polygons are extracted, not just those on the line render path, or whose center point is within the polygon. Not relevant for points; and always considered <code>TRUE</code> when <code>weights=TRUE</code> or <code>exact=TRUE</code></p></dd>


  <dt>weighted</dt>
<dd><p>logical. If <code>TRUE</code>, a weighted.mean is computed and <code>fun</code> is ignored. Weights are based on the length of the lines or the area of the polygons in <code>x</code> that intersect with <code>z</code>. This argument is ignored of <code>x</code> is a SpatVector or points</p></dd>
  
  <dt>as.polygons</dt>
<dd><p>logical. Should the results be merged with the attributes of <code>z</code>?</p></dd>

  <dt>na.rm</dt>
<dd><p>logical. If <code>TRUE</code>, <code>NA</code>s are removed</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.frame</code> with a value for each zone, or a SpatRaster, or SpatVector of polygons.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="global.html">global</a></code> for "global" statistics (i.e., all of <code>x</code> is considered a single zone), <code><a href="app.html">app</a></code> for local statistics, and <code><a href="extract.html">extract</a></code> for an alternative way to summarize values of a SpatRaster with a SpatVector. With <code><a href="aggregate.html">aggregate</a></code> you can compute statistics for cell blocks defined by a number of rows and columns.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SpatRaster, SpatRaster</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span>ncols<span class="op">=</span><span class="fl">10</span>, nrows<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"zone"</span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, <span class="st">"sum"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   zone lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1   210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2   610</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3  1410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4  1810</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># with weights </span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="init.html">init</a></span><span class="op">(</span><span class="va">r</span>, <span class="st">"col"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, w<span class="op">=</span><span class="va">w</span>, <span class="st">"mean"</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   zone lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1    12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2    32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3    72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4    92</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multiple layers</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"ex/logo.tif"</span>, package <span class="op">=</span> <span class="st">"terra"</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co"># zonal layer </span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="names.html">names</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"zone"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">z</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="cn">NA</span>, <span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span>, each<span class="op">=</span><span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">/</span><span class="fl">5</span>, length.out<span class="op">=</span><span class="fu"><a href="dimensions.html">ncell</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, <span class="st">"mean"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   zone      red    green     blue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1 197.9486 198.0103 193.5556</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2 173.2219 176.7717 185.2585</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    3 168.2952 172.6232 184.6939</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    4 193.5859 197.0019 206.5717</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># raster of zonal values</span></span></span>
<span class="r-in"><span><span class="va">zr</span> <span class="op">&lt;-</span> <span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">z</span>, <span class="st">"mean"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, as.raster<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SpatRaster, SpatVector</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="rast.html">rast</a></span><span class="op">(</span>ncol<span class="op">=</span><span class="fl">2</span>,nrow<span class="op">=</span><span class="fl">2</span>, vals<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, xmin<span class="op">=</span><span class="fl">0</span>, xmax<span class="op">=</span><span class="fl">1</span>, ymin<span class="op">=</span><span class="fl">0</span>, ymax<span class="op">=</span><span class="fl">1</span>, crs<span class="op">=</span><span class="st">"+proj=utm +zone=1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.polygons.html">as.polygons</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="shift.html">shift</a></span><span class="op">(</span><span class="va">p</span>, <span class="fl">.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="disaggregate.html">disagg</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4</span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">r</span>, <span class="va">p</span>, <span class="va">sum</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    64</span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">x</span>, <span class="va">pp</span>, exact<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4.0</span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span><span class="op">*</span><span class="fl">10</span><span class="op">)</span>, <span class="va">pp</span>, w<span class="op">=</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   lyr.1 lyr.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2    20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3    30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4    40</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### SpatVector, SpatVector</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"ex/lux.shp"</span>, package<span class="op">=</span><span class="st">"terra"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu"><a href="vect.html">vect</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span><span class="op">[</span>,<span class="fu"><a href="c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="sample.html">spatSample</a></span><span class="op">(</span><span class="va">v</span>, <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="values.html">values</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>b2<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>, ssep1<span class="op">=</span><span class="fl">100</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">zonal</span><span class="op">(</span><span class="va">p</span>, <span class="va">v</span>, <span class="va">mean</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    zone       b2    ssep1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     1 49.40000 51.60000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     2 51.66667 49.33333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     3 48.00000 53.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     4 34.00000 67.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     5 66.30769 34.69231</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     6 53.33333 47.66667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     7 29.80000 71.20000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8     8 41.60000 59.40000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     9 47.33333 53.66667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   10 45.37500 55.62500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11   11 55.20000 45.80000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   12 55.15385 45.84615</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

