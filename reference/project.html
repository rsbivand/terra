<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Change the coordinate reference system — project • terra</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Change the coordinate reference system — project" />
<meta property="og:description" content="Change the coordinate reference system (&quot;project&quot;) of a SpatVector or SpatRaster." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">terra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4-16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rspatial/terra/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Change the coordinate reference system</h1>
    
    <div class="hidden name"><code>project.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Change the coordinate reference system ("project") of a SpatVector or SpatRaster.</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for SpatVector</span>
<span class='fu'>project</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>

<span class='co'># S4 method for SpatRaster</span>
<span class='fu'>project</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>method</span>, mask<span class='op'>=</span><span class='cn'>FALSE</span>, filename<span class='op'>=</span><span class='st'>""</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>SpatVector</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>if (<code>x</code> is a SpatRaster, the prefered approach is for <code>y</code> to be a SpatRaster as well, serving as a template for the geometry of the output SpatRaster. Alternatively, you can provide a character variable containing a textual coordinate reference system (crs).</p>    
<p>You can use the following formats to provide textual coordinate reference system (crs) definitions: WKT,  PROJ.4 (e.g., <code>+proj=longlat +datum=WGS84</code>), or an EPSG code (e.g., <code>"epsg:4326"</code>) to define the output coordinate reference system (crs). But note that when using PROJ.4 you now must use the WGS84 datum. Other datums are silently ignored.</p>  
<p>If <code>x</code> is a SpatVector, you can provide a crs definition as discussed above, or any other object from which such a crs can be extracted with <code><a href='crs.html'>crs</a></code></p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>character. Method used for estimating the new cell values. One of:</p>  
<p><code>near</code>: nearest neighbor. This method is fast, and it can be the preferred method if the cell values represent classes. It is not a good choice for continuous values. This is used by default if the first layer of <code>x</code> is categorical.</p>
<p><code>bilinear</code>: bilinear interpolation. This is the default if the first layer of <code>x</code> is numeric (not categorical).</p>	
<p><code>cubic</code>: cubic interpolation.</p>	
<p><code>cubicspline</code>: cubic spline interpolation.</p>	
<p></p></td>
    </tr>
    <tr>
      <th>mask</th>
      <td><p>logical. If <code>TRUE</code>, mask out areas outside the input extent (see example with Robinson projection)</p></td>
    </tr>
    <tr>
      <th>filename</th>
      <td><p>character. Output filename</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments for writing files as in <code><a href='writeRaster.html'>writeRaster</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>SpatVector or SpatRaster</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='crs.html'>crs</a></code>, <code><a href='resample.html'>resample</a></code></p></div>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>User beware. Sadly, the PROJ.4 notation has been partly deprecated in the GDAL/PROJ library that is used by this function. You can still use this notation, but *only* with the the WGS84 datum. Other datums are silently ignored.</p>
<p>When printing a Spat* object the PROJ.4 notation is shown because it is the most concise and clear format available. However, internally a WKT representation is used (see <code><a href='crs.html'>crs</a></code>).</p>
<p>Transforming (projecting) raster data is fundamentally different from transforming vector data. Vector data can be transformed and back-transformed without loss in precision and without changes in the values. This is not the case with raster data. In each transformation the values for the new cells are estimated in some fashion. Therefore, if you need to match raster and vector data for analysis, you should generally transform the vector data.</p>
<p>When using this method with a <code>SpatRaster</code>, the preferable approach is to provide a template <code>SpatRaster</code> as argument <code>y</code>. The template is then another raster dataset that you want your data to align with. If you do not have a template to begin with, you can do <code>project(x, crs)</code> and then manipulate the output to get the template you want. For example, where possible use whole numbers for the extent and resolution so that you do not have to worry about small differences in the future. You can use commands like <code>dim(z) = c(180, 360)</code> or <code>res(z) &lt;- 100000</code>.</p>
<p>The output resolution should be similar to the input resolution, but there is not "correct" resolution in raster transformation; but it is not obvious what this resolution is if you are using lon/lat data that spans a large North-South extent.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='co'>## SpatRaster</span></span>
<span class='r-in'><span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rast.html'>rast</a></span><span class='op'>(</span>ncols<span class='op'>=</span><span class='fl'>40</span>, nrows<span class='op'>=</span><span class='fl'>40</span>, xmin<span class='op'>=</span><span class='op'>-</span><span class='fl'>110</span>, xmax<span class='op'>=</span><span class='op'>-</span><span class='fl'>90</span>, ymin<span class='op'>=</span><span class='fl'>40</span>, ymax<span class='op'>=</span><span class='fl'>60</span>, </span>
<span class='r-in'>          crs<span class='op'>=</span><span class='st'>"+proj=longlat +datum=WGS84"</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='values.html'>values</a></span><span class='op'>(</span><span class='va'>a</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='dimensions.html'>ncell</a></span><span class='op'>(</span><span class='va'>a</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>newcrs</span><span class='op'>=</span><span class='st'>"+proj=lcc +lat_1=48 +lat_2=33 +lon_0=-100 +datum=WGS84"</span></span>
<span class='r-in'><span class='va'>b</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rast.html'>rast</a></span><span class='op'>(</span>ncols<span class='op'>=</span><span class='fl'>94</span>, nrows<span class='op'>=</span><span class='fl'>124</span>, xmin<span class='op'>=</span><span class='op'>-</span><span class='fl'>944881</span>, xmax<span class='op'>=</span><span class='fl'>935118</span>, ymin<span class='op'>=</span><span class='fl'>4664377</span>, ymax<span class='op'>=</span><span class='fl'>7144377</span>, crs<span class='op'>=</span><span class='va'>newcrs</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fu'>project</span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## SpatVector</span></span>
<span class='r-in'><span class='va'>f</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"ex/lux.shp"</span>, package<span class='op'>=</span><span class='st'>"terra"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>v</span> <span class='op'>&lt;-</span> <span class='fu'><a href='vect.html'>vect</a></span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>crs</span> <span class='op'>&lt;-</span> <span class='st'>"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84"</span></span>
<span class='r-in'><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'>project</span><span class='op'>(</span><span class='va'>v</span>, <span class='va'>crs</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>p</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  class       : SpatVector </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  geometry    : polygons </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  dimensions  : 12, 6  (geometries, attributes)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  extent      : 437476.4, 497805.3, 5815524, 5892478  (xmin, xmax, ymin, ymax)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  coord. ref. : +proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  names       :  ID_1   NAME_1  ID_2   NAME_2  AREA       POP</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  type        : &lt;num&gt;    &lt;chr&gt; &lt;num&gt;    &lt;chr&gt; &lt;num&gt;     &lt;num&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  values      :     1 Diekirch     1 Clervaux   312 1.808e+04</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                    1 Diekirch     2 Diekirch   218 3.254e+04</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>                    1 Diekirch     3  Redange   259 1.866e+04</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Robert J. Hijmans.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


